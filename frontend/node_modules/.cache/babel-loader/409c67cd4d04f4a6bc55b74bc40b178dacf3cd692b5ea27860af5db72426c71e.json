{"ast":null,"code":"import axios from \"axios\";\nimport { CART_ADD_ITEM, CART_REMOVE_ITEM } from \"../constants/cartConstant\";\n\n// takes two parameters: id (the ID of the product to add)\n// and qty (the quantity of the product to add).\nexport const addToCart = (id, qty) => async (dispatch, getState) => {\n  try {\n    const {\n      data\n    } = await axios.get(`/api/product/${id}`);\n    const {\n      _id: product,\n      name,\n      image,\n      price,\n      countInStock\n    } = data;\n    dispatch({\n      type: CART_ADD_ITEM,\n      payload: {\n        product: _id,\n        name: name,\n        image: data.image,\n        price: data.price,\n        countInStock: data.countInStock,\n        qty\n      }\n    });\n\n    // Save cart items to local storage\n    localStorage.setItem(\"cartItems\", JSON.stringify(getState().cart.cartItems));\n    console.log(\"CartItems:\", getState().cart.cartItems);\n  } catch (error) {\n    // Handle error\n  }\n};","map":{"version":3,"names":["axios","CART_ADD_ITEM","CART_REMOVE_ITEM","addToCart","id","qty","dispatch","getState","data","get","_id","product","name","image","price","countInStock","type","payload","localStorage","setItem","JSON","stringify","cart","cartItems","console","log","error"],"sources":["C:/MyShop/frontend/src/actions/cartActions.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { CART_ADD_ITEM, CART_REMOVE_ITEM } from \"../constants/cartConstant\";\r\n\r\n// takes two parameters: id (the ID of the product to add)\r\n// and qty (the quantity of the product to add).\r\nexport const addToCart = (id, qty) => async (dispatch, getState) => {\r\n  try {\r\n    const { data } = await axios.get(`/api/product/${id}`);\r\n    const { _id: product, name, image, price, countInStock } = data;\r\n\r\n    dispatch({\r\n      type: CART_ADD_ITEM,\r\n      payload: {\r\n        product: _id,\r\n        name: name,\r\n        image: data.image,\r\n        price: data.price,\r\n        countInStock: data.countInStock,\r\n        qty,\r\n      },\r\n    });\r\n\r\n    // Save cart items to local storage\r\n    localStorage.setItem(\r\n      \"cartItems\",\r\n      JSON.stringify(getState().cart.cartItems)\r\n    );\r\n\r\n    console.log(\"CartItems:\", getState().cart.cartItems);\r\n  } catch (error) {\r\n    // Handle error\r\n  }\r\n};\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,aAAa,EAAEC,gBAAgB,QAAQ,2BAA2B;;AAE3E;AACA;AACA,OAAO,MAAMC,SAAS,GAAGA,CAACC,EAAE,EAAEC,GAAG,KAAK,OAAOC,QAAQ,EAAEC,QAAQ,KAAK;EAClE,IAAI;IACF,MAAM;MAAEC;IAAK,CAAC,GAAG,MAAMR,KAAK,CAACS,GAAG,CAAE,gBAAeL,EAAG,EAAC,CAAC;IACtD,MAAM;MAAEM,GAAG,EAAEC,OAAO;MAAEC,IAAI;MAAEC,KAAK;MAAEC,KAAK;MAAEC;IAAa,CAAC,GAAGP,IAAI;IAE/DF,QAAQ,CAAC;MACPU,IAAI,EAAEf,aAAa;MACnBgB,OAAO,EAAE;QACPN,OAAO,EAAED,GAAG;QACZE,IAAI,EAAEA,IAAI;QACVC,KAAK,EAAEL,IAAI,CAACK,KAAK;QACjBC,KAAK,EAAEN,IAAI,CAACM,KAAK;QACjBC,YAAY,EAAEP,IAAI,CAACO,YAAY;QAC/BV;MACF;IACF,CAAC,CAAC;;IAEF;IACAa,YAAY,CAACC,OAAO,CAClB,WAAW,EACXC,IAAI,CAACC,SAAS,CAACd,QAAQ,CAAC,CAAC,CAACe,IAAI,CAACC,SAAS,CAC1C,CAAC;IAEDC,OAAO,CAACC,GAAG,CAAC,YAAY,EAAElB,QAAQ,CAAC,CAAC,CAACe,IAAI,CAACC,SAAS,CAAC;EACtD,CAAC,CAAC,OAAOG,KAAK,EAAE;IACd;EAAA;AAEJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}