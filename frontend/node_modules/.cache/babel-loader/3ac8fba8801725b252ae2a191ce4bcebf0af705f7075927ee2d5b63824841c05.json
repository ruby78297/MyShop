{"ast":null,"code":"import axios from \"axios\";\nimport { CART_ADD_ITEM, CART_REMOVE_ITEM } from \"../constants/cartConstant\";\nexport const addToCart = (productId, qty) => async (dispatch, getState) => {\n  try {\n    const {\n      data\n    } = await axios.get(`/api/products/${productId}`);\n    const {\n      _id: product,\n      name,\n      image,\n      price,\n      countInStock\n    } = data;\n    dispatch({\n      type: CART_ADD_ITEM,\n      payload: {\n        product,\n        name,\n        image,\n        price,\n        countInStock,\n        qty\n      }\n    });\n\n    // Save cart items to local storage\n    localStorage.setItem(\"cartItems\", JSON.stringify(getState().cart.cartItems), console.log({\n      cartItems\n    }));\n  } catch (error) {\n    // Handle error\n  }\n};","map":{"version":3,"names":["axios","CART_ADD_ITEM","CART_REMOVE_ITEM","addToCart","productId","qty","dispatch","getState","data","get","_id","product","name","image","price","countInStock","type","payload","localStorage","setItem","JSON","stringify","cart","cartItems","console","log","error"],"sources":["C:/MyShop/frontend/src/actions/cartActions.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { CART_ADD_ITEM, CART_REMOVE_ITEM } from \"../constants/cartConstant\";\r\n\r\nexport const addToCart = (productId, qty) => async (dispatch, getState) => {\r\n  try {\r\n    const { data } = await axios.get(`/api/products/${productId}`);\r\n    const { _id: product, name, image, price, countInStock } = data;\r\n\r\n    dispatch({\r\n      type: CART_ADD_ITEM,\r\n      payload: {\r\n        product,\r\n        name,\r\n        image,\r\n        price,\r\n        countInStock,\r\n        qty,\r\n      },\r\n    });\r\n\r\n    // Save cart items to local storage\r\n    localStorage.setItem(\r\n      \"cartItems\",\r\n      JSON.stringify(getState().cart.cartItems),\r\n      console.log({ cartItems })\r\n    );\r\n  } catch (error) {\r\n    // Handle error\r\n  }\r\n};\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,aAAa,EAAEC,gBAAgB,QAAQ,2BAA2B;AAE3E,OAAO,MAAMC,SAAS,GAAGA,CAACC,SAAS,EAAEC,GAAG,KAAK,OAAOC,QAAQ,EAAEC,QAAQ,KAAK;EACzE,IAAI;IACF,MAAM;MAAEC;IAAK,CAAC,GAAG,MAAMR,KAAK,CAACS,GAAG,CAAE,iBAAgBL,SAAU,EAAC,CAAC;IAC9D,MAAM;MAAEM,GAAG,EAAEC,OAAO;MAAEC,IAAI;MAAEC,KAAK;MAAEC,KAAK;MAAEC;IAAa,CAAC,GAAGP,IAAI;IAE/DF,QAAQ,CAAC;MACPU,IAAI,EAAEf,aAAa;MACnBgB,OAAO,EAAE;QACPN,OAAO;QACPC,IAAI;QACJC,KAAK;QACLC,KAAK;QACLC,YAAY;QACZV;MACF;IACF,CAAC,CAAC;;IAEF;IACAa,YAAY,CAACC,OAAO,CAClB,WAAW,EACXC,IAAI,CAACC,SAAS,CAACd,QAAQ,CAAC,CAAC,CAACe,IAAI,CAACC,SAAS,CAAC,EACzCC,OAAO,CAACC,GAAG,CAAC;MAAEF;IAAU,CAAC,CAC3B,CAAC;EACH,CAAC,CAAC,OAAOG,KAAK,EAAE;IACd;EAAA;AAEJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}